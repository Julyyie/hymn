<div class="container">
<% if current_user == @song.game.user %>
  <%= render "song-player", song: @song%>
<% end %>
<h1 class="pt-3">Buzzer Order</h1>
<p>Click on player to accept or refuse answer</p>
<div class="pt-3"
    data-controller="answers-index-subscription"
    data-answers-index-subscription-song-id-value="<%= @song.id %>"
    data-answers-index-subscription-current-user-id-value="<%= current_user.id %>"
    data-answers-index-subscription-game-master-value="<%= @song.game.user == current_user %>"
    >
  <div data-answers-index-subscription-target="answers" data-controller="modal">
    <% @answers.each do |answer| %>
        <%= render "answers", answer: answer, song: @song %>
        <% if current_user == @song.game.user %>
          <%= render "answer_modal", answer: answer, song: @song %>
        <% end %>
    <% end %>
  </div>
</div>

    <% if current_user == @song.game.user %>
      <div class=" d-flex justify-content-between flex-grow pt-3">

        <%= link_to "End game", game_path(@song.game, params: { status: 'finished', song_id: @song.id }), class:"btn_stroke_md" %>
        <%= link_to "Next song", song_answers_path(@next_song), data: {turbo: false}, class:"btn_pink_md" %>
      </div>
    <% end %>
  </div>
</div>
